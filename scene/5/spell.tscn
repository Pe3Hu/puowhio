[gd_scene load_steps=3 format=3 uid="uid://bnsd2ocyhg17j"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_b7qy3"]

[sub_resource type="GDScript" id="GDScript_6omnl"]
script/source = "@tool
class_name Spell extends PanelContainer


var slot_scene = preload(\"res://scene/5/slot.tscn\")

@onready var items = $Items
@onready var slots = $Slots

var limit = 7
var occupied_slots: Array[Slot]
var accessible_slots: Array[Slot]


func _ready() -> void:
	await get_tree().process_frame
	
	for _i in limit:
		add_slot()
	
func add_slot() -> void:
	var slot = slot_scene.instantiate()
	var index = slots.get_child_count()
	var grid = Vector2(index % limit, index / limit) + Vector2.ONE * 0.5
	slot.position = Global.vec.size.slot * grid
	slots.add_child(slot)
	slot.panel = self
"

[node name="Spell" type="PanelContainer"]
custom_minimum_size = Vector2(448, 64)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -224.0
offset_top = -32.0
offset_right = 224.0
offset_bottom = 32.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
mouse_filter = 2
theme_override_styles/panel = SubResource("StyleBoxEmpty_b7qy3")
script = SubResource("GDScript_6omnl")

[node name="Slots" type="Node2D" parent="."]

[node name="Items" type="Node2D" parent="."]
